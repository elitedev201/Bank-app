(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{336:function(e,t,a){e.exports=a(530)},340:function(e,t,a){},530:function(e,t,a){"use strict";a.r(t);var n,r=a(0),l=a.n(r),c=a(19),o=a.n(c),i=(a(340),a(84)),s=a(300),u=a(301),m=a(298),d=a(31),p=a(35),f=a(40),E="",g=function(){return E},h=function(e){E=e},b=a(302),y=a(270),v=a.n(y),x=a(14),O=a.n(x),w=a(22),j=a(11),S=a(4),C=a(83),N=a(89),k=a(131),A=a.n(k),T=a(299);!function(e){e.PRIMARY="#222B2D",e.SECONDARY="#29AABB",e.ORANGE="#F15742",e.MAROON="#432D32",e.WHITE="#FFFEF9",e.HOVER="#148C9C",e.PRIMARY_HOVER="#090c0c"}(n||(n={}));var D=Object(T.a)({palette:{primary:{main:n.PRIMARY},secondary:{main:n.ORANGE},info:{main:n.MAROON},contrastThreshold:3,tonalOffset:.2}}),R=function(){return l.a.createElement("div",{style:{height:"100vh",backgroundColor:n.PRIMARY,marginTop:"-48px"}},l.a.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},l.a.createElement("div",{style:{color:n.WHITE,textTransform:"uppercase",letterSpacing:10,fontSize:64,fontWeight:"bold"}},"APOLLO"),l.a.createElement("div",{style:{color:n.WHITE,letterSpacing:8}},"Banking made easy.")))},B=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{margin:"0 auto",textAlign:"center"}},"We're sad to see you go :("),l.a.createElement("div",{style:{margin:"0 auto",textAlign:"center"}},l.a.createElement("p",null,"Click"," ",l.a.createElement("a",{href:"/",style:{textDecoration:"none",color:n.SECONDARY}},"here")," ","to return back to the home page")))},P=a(36),F=a(37),I=a(38),L=a.n(I),z=a(23);function M(){var e=Object(F.a)(["\n    mutation UpdatePassword($oldPassword: String!, $newPassword: String!) {\n  updatePassword(oldPassword: $oldPassword, newPassword: $newPassword)\n}\n    "]);return M=function(){return e},e}function $(){var e=Object(F.a)(["\n    query Transactions($currency: String!) {\n  transactions(currency: $currency) {\n    id\n    transactionType\n    date\n    amount\n  }\n}\n    "]);return $=function(){return e},e}function Y(){var e=Object(F.a)(["\n    mutation Register($email: String!, $password: String!, $firstName: String!, $lastName: String!, $dateOfBirth: String!, $streetAddress: String!, $postCode: String!, $city: String!, $country: String!) {\n  register(email: $email, password: $password, firsName: $firstName, lastName: $lastName, dateOfBirth: $dateOfBirth, streetAddress: $streetAddress, postCode: $postCode, city: $city, country: $country)\n}\n    "]);return Y=function(){return e},e}function q(){var e=Object(F.a)(["\n    query Me {\n  me {\n    id\n    email\n    firstName\n    lastName\n    dateOfBirth\n    streetAddress\n    postCode\n    city\n    country\n  }\n}\n    "]);return q=function(){return e},e}function H(){var e=Object(F.a)(["\n    mutation Logout {\n  logout\n}\n    "]);return H=function(){return e},e}function W(){var e=Object(F.a)(["\n    mutation Login($email: String!, $password: String!) {\n  login(email: $email, password: $password) {\n    accessToken\n    user {\n      id\n      email\n      firstName\n      lastName\n      dateOfBirth\n      streetAddress\n      postCode\n      city\n      country\n    }\n  }\n}\n    "]);return W=function(){return e},e}function U(){var e=Object(F.a)(["\n    mutation Exchange($selectedAccountCurrency: String!, $toAccountCurrency: String!, $amount: Float!) {\n  exchange(selectedAccountCurrency: $selectedAccountCurrency, toAccountCurrency: $toAccountCurrency, amount: $amount) {\n    account {\n      id\n      balance\n    }\n    message\n  }\n}\n    "]);return U=function(){return e},e}function V(){var e=Object(F.a)(["\n    mutation DestroyAccount {\n  destroyAccount\n}\n    "]);return V=function(){return e},e}function _(){var e=Object(F.a)(["\n    mutation DeleteAccount($currency: String!) {\n  deleteAccount(currency: $currency)\n}\n    "]);return _=function(){return e},e}function G(){var e=Object(F.a)(["\n    mutation CreateTransaction($currency: String!) {\n  createTransaction(currency: $currency)\n}\n    "]);return G=function(){return e},e}function Q(){var e=Object(F.a)(["\n    mutation createCard {\n  createCard\n}\n    "]);return Q=function(){return e},e}function Z(){var e=Object(F.a)(["\n    mutation CreateAccount($currency: String!) {\n  createAccount(currency: $currency)\n}\n    "]);return Z=function(){return e},e}function X(){var e=Object(F.a)(["\n    query Cards {\n  cards {\n    id\n    cardNumber\n    pin\n    expiresIn\n    cvv\n    monthlySpendingLimit\n  }\n}\n    "]);return X=function(){return e},e}function K(){var e=Object(F.a)(["\n    mutation AddMoney($amount: Float!, $currency: String!) {\n  addMoney(amount: $amount, currency: $currency) {\n    account {\n      id\n      balance\n    }\n    message\n  }\n}\n    "]);return K=function(){return e},e}function J(){var e=Object(F.a)(["\n    query Accounts {\n  accounts {\n    id\n    balance\n    currency\n    sortCode\n    iban\n    bic\n  }\n}\n    "]);return J=function(){return e},e}function ee(){var e=Object(F.a)(["\n    query Account($currency: String!) {\n  account(currency: $currency) {\n    id\n    balance\n  }\n}\n    "]);return ee=function(){return e},e}var te=L()(ee());var ae=L()(J());function ne(e){return z.c(ae,e)}var re=L()(K());var le=L()(X());function ce(e){return z.c(le,e)}var oe=L()(Z());var ie=L()(Q());var se=L()(G());var ue=L()(_());var me=L()(V());var de=L()(U());var pe=L()(W());var fe=L()(H());function Ee(e){return z.b(fe,e)}var ge=L()(q());function he(e){return z.c(ge,e)}var be=L()(Y());var ye=L()($());function ve(e){return z.c(ye,e)}var xe=L()(M());var Oe=a(564),we=a(573),je=a(15),Se=je.d({firstName:je.f().required("First name is required"),lastName:je.f().required("Last name is required"),email:je.f().email().required("Email is required"),streetAddres:je.f().required("Street address is required"),postCode:je.f().required("Post code is required"),city:je.f().required("City is required"),country:je.f().required("Country is required"),password:je.b((function(e){return e?je.f().min(6,"Password must be at least 6 characters").required("Password is required"):je.f()})),confirmPassword:je.f().oneOf([je.e("password")],"Passwords do not match"),dateOfBirth:je.a().required("Date of birth is required")}),Ce=a(587),Ne=function(e){var t=e.placeholder,a=e.className,n=e.type,r=Object(S.a)(e,["placeholder","className","type"]),c=Object(P.c)(r),o=Object(j.a)(c,2),i=o[0],s=o[1],u=s.error&&s.touched?s.error:"";return l.a.createElement(Oe.a,{theme:D},l.a.createElement(Ce.a,Object.assign({className:a,type:n,variant:"outlined",required:!0,placeholder:t},i,{helperText:u,error:!!u})))},ke=function(e){var t=e.placeholder,a=e.className,n=Object(S.a)(e,["placeholder","className"]),r=Object(P.c)(n),c=Object(j.a)(r,2),o=c[0],i=c[1],s=i.error&&i.touched?i.error:"";return l.a.createElement(Oe.a,{theme:D},l.a.createElement(Ce.a,Object.assign({className:a,type:"date",variant:"outlined",required:!0,placeholder:t},o,{helperText:s,error:!!s,label:"Date of birth",InputLabelProps:{shrink:!0}})))},Ae=a(586),Te=function(e){var t=e.message;return l.a.createElement(Ae.a,{variant:"outlined",severity:"success"},t)},De=function(e){var t=e.message;return l.a.createElement(Ae.a,{variant:"outlined",severity:"warning"},t)},Re=function(e){var t=e.message;return l.a.createElement(Ae.a,{variant:"outlined",severity:"error"},t)},Be=a(572),Pe=Object(Be.a)({root:{margin:"0 auto",top:"25%",height:"100%",width:"348px"},headerText:{textAlign:"center",fontWeight:"bold"},alignedFormContent:{marginTop:12,display:"flex",width:"100%"},alignedFormField:{width:"50%"},formField:{width:"100%",marginTop:12},formButton:{marginTop:12,textTransform:"none",fontWeight:"bold",letterSpacing:1,textAlign:"center","&:disabled":{backgroundColor:n.ORANGE,color:n.WHITE}},loginText:{margintop:12},spacer:{width:8}}),Fe=function(e){var t,a=e.history,n=z.b(be,t),c=Object(j.a)(n,1)[0],o=Object(r.useState)(""),i=Object(j.a)(o,2),s=i[0],u=i[1],m=Pe();return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("h1",{className:m.headerText},"Sign Up")),s.length>0&&l.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},l.a.createElement(Re,{message:s})),l.a.createElement(P.b,{initialValues:{firstName:"",lastName:"",streetAddres:"",postCode:"",city:"",country:"",email:"",password:"",confirmPassword:"",dateOfBirth:""},validationSchema:Se,onSubmit:function(){var e=Object(w.a)(O.a.mark((function e(t,n){var r,l,o,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=n.setSubmitting,o=n.resetForm,l(!0),e.next=4,c({variables:{firstName:t.firstName,lastName:t.lastName,email:t.email,password:t.password,streetAddress:t.streetAddres,postCode:t.postCode,city:t.city,country:t.country,dateOfBirth:t.dateOfBirth}});case 4:i=e.sent,(null===(r=i.data)||void 0===r?void 0:r.register)?(a.push("/login"),l(!1),o()):(u("User with that email already exists."),l(!1));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var t=e.isSubmitting;return l.a.createElement("div",{className:m.root},l.a.createElement(P.a,{onChange:function(){return u("")}},l.a.createElement("div",{className:m.alignedFormContent},l.a.createElement(Ne,{className:m.alignedFormField,name:"firstName",placeholder:"First name",type:"input"}),l.a.createElement("div",{className:m.spacer}),l.a.createElement(Ne,{className:m.alignedFormField,name:"lastName",placeholder:"Last name",type:"input"})),l.a.createElement("div",null,l.a.createElement("div",{className:m.alignedFormContent},l.a.createElement(Ne,{className:m.alignedFormField,name:"streetAddres",placeholder:"Street address",type:"input"}),l.a.createElement("div",{className:m.spacer}),l.a.createElement(Ne,{className:m.alignedFormField,name:"postCode",placeholder:"Post code",type:"input"})),l.a.createElement("div",{className:m.alignedFormContent},l.a.createElement(Ne,{className:m.alignedFormField,name:"city",placeholder:"City",type:"input"}),l.a.createElement("div",{className:m.spacer}),l.a.createElement(Ne,{className:m.alignedFormField,name:"country",placeholder:"Country",type:"input"})),l.a.createElement(Ne,{className:m.formField,name:"email",placeholder:"Email",type:"input"}),l.a.createElement(Ne,{className:m.formField,name:"password",placeholder:"Password",type:"password"}),l.a.createElement(Ne,{className:m.formField,name:"confirmPassword",placeholder:"Confirm password",type:"password"}),l.a.createElement(ke,{className:m.formField,name:"dateOfBirth"})),l.a.createElement("div",{className:m.formButton},l.a.createElement(Oe.a,{theme:D},l.a.createElement(we.a,{className:m.formButton,disabled:t,variant:"contained",color:"secondary",type:"submit"},"Sign Up"))),l.a.createElement("div",{className:m.loginText},l.a.createElement("p",null,"Already have an account? ",l.a.createElement("a",{href:"/login"},"Login here.")))))})))},Ie=je.d({email:je.f().email().required("Email is required"),password:je.b((function(e){return e?je.f().min(6,"Password must be at least 6 characters").required("Password is required"):je.f()}))}),Le=Object(Be.a)({root:{margin:"0 auto",top:"25%",height:"100%",width:"348px"},headerText:{textAlign:"center",fontWeight:"bold"},formField:{width:"100%",marginTop:12},formButton:{marginTop:12,textTransform:"none",fontWeight:"bold",letterSpacing:1,textAlign:"center","&:disabled":{backgroundColor:n.ORANGE,color:n.WHITE}},registerText:{marginTop:12}}),ze=function(e){var t,a=e.history,c=z.b(pe,t),o=Object(j.a)(c,1)[0],i=Object(r.useState)(""),s=Object(j.a)(i,2),u=s[0],m=s[1],d=Le();return l.a.createElement("div",{className:d.root},l.a.createElement("div",null,l.a.createElement("h1",{className:d.headerText},"Login")),u.length>0&&l.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},l.a.createElement(Re,{message:u})),l.a.createElement(P.b,{initialValues:{email:"",password:""},validationSchema:Ie,onSubmit:function(){var e=Object(w.a)(O.a.mark((function e(t,n){var r,l,c,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.setSubmitting,l=n.resetForm,r(!0),e.prev=2,e.next=5,o({variables:{email:t.email,password:t.password},update:function(e,t){var a=t.data;if(!a)return null;e.writeQuery({query:ge,data:{me:a.login.user}})}});case 5:(c=e.sent)&&c.data&&(h(c.data.login.accessToken),a.push("/dashboard"),r(!1),l()),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(2),i=e.t0.message.split(":")[1],m(i),r(!1);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var t=e.isSubmitting;return l.a.createElement("div",null,l.a.createElement(P.a,null,l.a.createElement("div",null,l.a.createElement(Ne,{className:d.formField,name:"email",placeholder:"Email",type:"input"}),l.a.createElement(Ne,{className:d.formField,name:"password",placeholder:"Password",type:"password"})),l.a.createElement("div",{className:d.formButton},l.a.createElement(Oe.a,{theme:D},l.a.createElement(we.a,{className:d.formButton,disabled:t,variant:"contained",color:"secondary",type:"submit"},"Login"))),l.a.createElement("div",{className:d.registerText},l.a.createElement("p",null,"Don't have an account?"," ",l.a.createElement("a",{href:"/register",style:{textDecoration:"none",color:n.SECONDARY}},"Sign up here.")))))})))},Me=a(569),$e=a(589),Ye=a(585),qe=a(579),He=a(571),We=a(113),Ue=a.n(We),Ve=a(283),_e=a.n(Ve),Ge=a(284),Qe=a.n(Ge);function Ze(){return(Ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Xe(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Ke=l.a.createElement("g",null),Je=l.a.createElement("g",null),et=l.a.createElement("g",null),tt=l.a.createElement("g",null),at=l.a.createElement("g",null),nt=l.a.createElement("g",null),rt=l.a.createElement("g",null),lt=l.a.createElement("g",null),ct=l.a.createElement("g",null),ot=l.a.createElement("g",null),it=l.a.createElement("g",null),st=l.a.createElement("g",null),ut=l.a.createElement("g",null),mt=l.a.createElement("g",null),dt=l.a.createElement("g",null),pt=function(e){var t=e.svgRef,a=e.title,n=Xe(e,["svgRef","title"]);return l.a.createElement("svg",Ze({id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},xmlSpace:"preserve",ref:t},n),a?l.a.createElement("title",null,a):null,l.a.createElement("circle",{style:{fill:"#0052B4"},cx:256,cy:256,r:256}),l.a.createElement("g",null,l.a.createElement("polygon",{style:{fill:"#FFDA44"},points:"256.001,100.174 264.29,125.683 291.11,125.683 269.411,141.448 277.7,166.957  256.001,151.191 234.301,166.957 242.59,141.448 220.891,125.683 247.712,125.683  "}),l.a.createElement("polygon",{style:{fill:"#FFDA44"},points:"145.814,145.814 169.714,157.99 188.679,139.026 184.482,165.516 208.381,177.693  181.89,181.889 177.694,208.381 165.517,184.482 139.027,188.679 157.992,169.714  "}),l.a.createElement("polygon",{style:{fill:"#FFDA44"},points:"100.175,256 125.684,247.711 125.684,220.89 141.448,242.59 166.958,234.301 151.191,256  166.958,277.699 141.448,269.411 125.684,291.11 125.684,264.289  "}),l.a.createElement("polygon",{style:{fill:"#FFDA44"},points:"145.814,366.186 157.991,342.286 139.027,323.321 165.518,327.519 177.693,303.62  181.89,330.111 208.38,334.307 184.484,346.484 188.679,372.974 169.714,354.009  "}),l.a.createElement("polygon",{style:{fill:"#FFDA44"},points:"256.001,411.826 247.711,386.317 220.891,386.317 242.591,370.552 234.301,345.045  256.001,360.809 277.7,345.045 269.411,370.552 291.11,386.317 264.289,386.317  "}),l.a.createElement("polygon",{style:{fill:"#FFDA44"},points:"366.187,366.186 342.288,354.01 323.322,372.975 327.519,346.483 303.622,334.307  330.112,330.111 334.308,303.62 346.484,327.519 372.974,323.321 354.009,342.288  "}),l.a.createElement("polygon",{style:{fill:"#FFDA44"},points:"411.826,256 386.317,264.289 386.317,291.11 370.552,269.41 345.045,277.699 360.81,256  345.045,234.301 370.553,242.59 386.317,220.89 386.317,247.712  "}),l.a.createElement("polygon",{style:{fill:"#FFDA44"},points:"366.187,145.814 354.01,169.714 372.975,188.679 346.483,184.481 334.308,208.38  330.112,181.889 303.622,177.692 327.519,165.516 323.322,139.027 342.289,157.991  "})),Ke,Je,et,tt,at,nt,rt,lt,ct,ot,it,st,ut,mt,dt)},ft=l.a.forwardRef((function(e,t){return l.a.createElement(pt,Ze({svgRef:t},e))}));a.p;function Et(){return(Et=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function gt(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var ht=l.a.createElement("g",null),bt=l.a.createElement("g",null),yt=l.a.createElement("g",null),vt=l.a.createElement("g",null),xt=l.a.createElement("g",null),Ot=l.a.createElement("g",null),wt=l.a.createElement("g",null),jt=l.a.createElement("g",null),St=l.a.createElement("g",null),Ct=l.a.createElement("g",null),Nt=l.a.createElement("g",null),kt=l.a.createElement("g",null),At=l.a.createElement("g",null),Tt=l.a.createElement("g",null),Dt=l.a.createElement("g",null),Rt=function(e){var t=e.svgRef,a=e.title,n=gt(e,["svgRef","title"]);return l.a.createElement("svg",Et({id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},xmlSpace:"preserve",ref:t},n),a?l.a.createElement("title",null,a):null,l.a.createElement("circle",{style:{fill:"#F0F0F0"},cx:256,cy:256,r:256}),l.a.createElement("g",null,l.a.createElement("path",{style:{fill:"#D80027"},d:"M244.87,256H512c0-23.106-3.08-45.49-8.819-66.783H244.87V256z"}),l.a.createElement("path",{style:{fill:"#D80027"},d:"M244.87,122.435h229.556c-15.671-25.572-35.708-48.175-59.07-66.783H244.87V122.435z"}),l.a.createElement("path",{style:{fill:"#D80027"},d:"M256,512c60.249,0,115.626-20.824,159.356-55.652H96.644C140.374,491.176,195.751,512,256,512z"}),l.a.createElement("path",{style:{fill:"#D80027"},d:"M37.574,389.565h436.852c12.581-20.529,22.338-42.969,28.755-66.783H8.819 C15.236,346.596,24.993,369.036,37.574,389.565z"})),l.a.createElement("path",{style:{fill:"#0052B4"},d:"M118.584,39.978h23.329l-21.7,15.765l8.289,25.509l-21.699-15.765L85.104,81.252l7.16-22.037 C73.158,75.13,56.412,93.776,42.612,114.552h7.475l-13.813,10.035c-2.152,3.59-4.216,7.237-6.194,10.938l6.596,20.301l-12.306-8.941 c-3.059,6.481-5.857,13.108-8.372,19.873l7.267,22.368h26.822l-21.7,15.765l8.289,25.509l-21.699-15.765l-12.998,9.444 C0.678,234.537,0,245.189,0,256h256c0-141.384,0-158.052,0-256C205.428,0,158.285,14.67,118.584,39.978z M128.502,230.4 l-21.699-15.765L85.104,230.4l8.289-25.509l-21.7-15.765h26.822l8.288-25.509l8.288,25.509h26.822l-21.7,15.765L128.502,230.4z  M120.213,130.317l8.289,25.509l-21.699-15.765l-21.699,15.765l8.289-25.509l-21.7-15.765h26.822l8.288-25.509l8.288,25.509h26.822 L120.213,130.317z M220.328,230.4l-21.699-15.765L176.93,230.4l8.289-25.509l-21.7-15.765h26.822l8.288-25.509l8.288,25.509h26.822 l-21.7,15.765L220.328,230.4z M212.039,130.317l8.289,25.509l-21.699-15.765l-21.699,15.765l8.289-25.509l-21.7-15.765h26.822 l8.288-25.509l8.288,25.509h26.822L212.039,130.317z M212.039,55.743l8.289,25.509l-21.699-15.765L176.93,81.252l8.289-25.509 l-21.7-15.765h26.822l8.288-25.509l8.288,25.509h26.822L212.039,55.743z"}),ht,bt,yt,vt,xt,Ot,wt,jt,St,Ct,Nt,kt,At,Tt,Dt)},Bt=l.a.forwardRef((function(e,t){return l.a.createElement(Rt,Et({svgRef:t},e))}));a.p;function Pt(){return(Pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ft(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var It,Lt=l.a.createElement("g",null),zt=l.a.createElement("g",null),Mt=l.a.createElement("g",null),$t=l.a.createElement("g",null),Yt=l.a.createElement("g",null),qt=l.a.createElement("g",null),Ht=l.a.createElement("g",null),Wt=l.a.createElement("g",null),Ut=l.a.createElement("g",null),Vt=l.a.createElement("g",null),_t=l.a.createElement("g",null),Gt=l.a.createElement("g",null),Qt=l.a.createElement("g",null),Zt=l.a.createElement("g",null),Xt=l.a.createElement("g",null),Kt=function(e){var t=e.svgRef,a=e.title,n=Ft(e,["svgRef","title"]);return l.a.createElement("svg",Pt({id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},xmlSpace:"preserve",ref:t},n),a?l.a.createElement("title",null,a):null,l.a.createElement("circle",{style:{fill:"#F0F0F0"},cx:256,cy:256,r:256}),l.a.createElement("g",null,l.a.createElement("path",{style:{fill:"#0052B4"},d:"M52.92,100.142c-20.109,26.163-35.272,56.318-44.101,89.077h133.178L52.92,100.142z"}),l.a.createElement("path",{style:{fill:"#0052B4"},d:"M503.181,189.219c-8.829-32.758-23.993-62.913-44.101-89.076l-89.075,89.076H503.181z"}),l.a.createElement("path",{style:{fill:"#0052B4"},d:"M8.819,322.784c8.83,32.758,23.993,62.913,44.101,89.075l89.074-89.075L8.819,322.784L8.819,322.784 z"}),l.a.createElement("path",{style:{fill:"#0052B4"},d:"M411.858,52.921c-26.163-20.109-56.317-35.272-89.076-44.102v133.177L411.858,52.921z"}),l.a.createElement("path",{style:{fill:"#0052B4"},d:"M100.142,459.079c26.163,20.109,56.318,35.272,89.076,44.102V370.005L100.142,459.079z"}),l.a.createElement("path",{style:{fill:"#0052B4"},d:"M189.217,8.819c-32.758,8.83-62.913,23.993-89.075,44.101l89.075,89.075V8.819z"}),l.a.createElement("path",{style:{fill:"#0052B4"},d:"M322.783,503.181c32.758-8.83,62.913-23.993,89.075-44.101l-89.075-89.075V503.181z"}),l.a.createElement("path",{style:{fill:"#0052B4"},d:"M370.005,322.784l89.075,89.076c20.108-26.162,35.272-56.318,44.101-89.076H370.005z"})),l.a.createElement("g",null,l.a.createElement("path",{style:{fill:"#D80027"},d:"M509.833,222.609h-220.44h-0.001V2.167C278.461,0.744,267.317,0,256,0 c-11.319,0-22.461,0.744-33.391,2.167v220.44v0.001H2.167C0.744,233.539,0,244.683,0,256c0,11.319,0.744,22.461,2.167,33.391 h220.44h0.001v220.442C233.539,511.256,244.681,512,256,512c11.317,0,22.461-0.743,33.391-2.167v-220.44v-0.001h220.442 C511.256,278.461,512,267.319,512,256C512,244.683,511.256,233.539,509.833,222.609z"}),l.a.createElement("path",{style:{fill:"#D80027"},d:"M322.783,322.784L322.783,322.784L437.019,437.02c5.254-5.252,10.266-10.743,15.048-16.435 l-97.802-97.802h-31.482V322.784z"}),l.a.createElement("path",{style:{fill:"#D80027"},d:"M189.217,322.784h-0.002L74.98,437.019c5.252,5.254,10.743,10.266,16.435,15.048l97.802-97.804 V322.784z"}),l.a.createElement("path",{style:{fill:"#D80027"},d:"M189.217,189.219v-0.002L74.981,74.98c-5.254,5.252-10.266,10.743-15.048,16.435l97.803,97.803 H189.217z"}),l.a.createElement("path",{style:{fill:"#D80027"},d:"M322.783,189.219L322.783,189.219L437.02,74.981c-5.252-5.254-10.743-10.266-16.435-15.047 l-97.802,97.803V189.219z"})),Lt,zt,Mt,$t,Yt,qt,Ht,Wt,Ut,Vt,_t,Gt,Qt,Zt,Xt)},Jt=l.a.forwardRef((function(e,t){return l.a.createElement(Kt,Pt({svgRef:t},e))})),ea=(a.p,Object(Be.a)({root:{margin:"0 auto",marginTop:24},accountBalance:{fontSize:28,textAlign:"center"},accountInfo:{display:"flex",justifyContent:"space-evenly",width:"240px",margin:"0 auto",marginTop:12,alignItems:"center"},accountButtonsSection:{textAlign:"center",display:"flex",justifyContent:"space-evenly",alignItems:"center",margin:"0 auto",width:"480px",marginTop:24},accountButton:{backgroundColor:n.PRIMARY,color:n.WHITE,"&:hover":{background:n.PRIMARY_HOVER}},accountButtonSection:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},accountButtonText:{marginTop:12,fontSize:14},transactions:{marginTop:12,margin:"0 auto",display:"flex",flexDirection:"column",width:480},transactionsHeader:{marginTop:12,display:"flex"},transactionCards:{marginTop:8},dialogButton:{marginTop:12,textTransform:"none",fontWeight:"bold",letterSpacing:1,textAlign:"center"}})),ta=a(29),aa=Object(ta.a)({dialog:{width:"500px",maxWidth:"100%",margin:"0 auto",position:"fixed",left:"50%",top:"50%",transform:"translate(-50%, -50%)",zIndex:999,backgroundColor:"white",padding:"10px 20px 40px",borderRadius:"8px",display:"flex",flexDirection:"column",boxShadow:"3px 7px 18px 0px rgba(148,148,148,1)"},closeButton:{backgroundColor:n.PRIMARY,color:n.WHITE,fontSize:16,outline:"none",marginBottom:"15px",padding:"3px 8px",cursor:"pointer",borderRadius:"50%",border:"none",width:"30px",height:"30px",fontWeight:"bold",alignSelf:"flex-end","&:hover":{backgroundColor:n.PRIMARY_HOVER}}}),na=function(e){var t=e.children,a=e.isOpen,n=e.onClose,r=aa(),c=l.a.createElement("div",{className:r.dialog},l.a.createElement("button",{className:r.closeButton,onClick:n},"x"),t);return a||(c=void 0),l.a.createElement("div",null,c)},ra=a(86),la=function(e){return l.a.createElement(ra.a,{style:{fontWeight:"bold",fontSize:e.fontSize,color:n.PRIMARY}},e.title)},ca=Object(ta.a)({root:{display:"flex",justifyContent:"center"},image:{height:"124px"}}),oa=function(){var e=ca();return l.a.createElement("div",{className:e.root},l.a.createElement("img",{className:e.image,src:"loading.svg",alt:"Loading..."}))},ia=a(574),sa=a(575),ua=a(591),ma=a(576),da=a(577),pa=a(578),fa=a(278),Ea=a.n(fa),ga=a(590),ha=Object(Be.a)((function(e){return Object(ga.a)({root:{},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},expandedText:{fontSize:14,marginBottom:8},avatar:{backgroundColor:n.PRIMARY}})})),ba=function(e){var t=e.title,a=e.time,n=e.amount,c=e.card,o=e.transactionIcon,i=e.currencyIcon,s=ha(),u=Object(r.useState)(!1),m=Object(j.a)(u,2),d=m[0],p=m[1];return l.a.createElement("div",{style:{marginTop:12}},l.a.createElement(ia.a,{className:s.root},l.a.createElement(sa.a,{avatar:l.a.createElement(ua.a,{className:s.avatar,"aria-label":"whatever"},o),title:t,subheader:a,style:{textAlign:"left"}}),l.a.createElement(ma.a,{style:{marginTop:"-40px"}},l.a.createElement(Oe.a,{theme:D},l.a.createElement(He.a,{style:{marginLeft:420},color:"primary",onClick:function(){p(!d)},"aria-expanded":d,"aria-label":"show more"},l.a.createElement(Ea.a,null)))),l.a.createElement(da.a,{in:d,timeout:"auto",unmountOnExit:!0},l.a.createElement(pa.a,{style:{marginTop:"-24px"}},l.a.createElement("hr",{style:{border:"none",borderBottom:"1px solid black"}}),l.a.createElement("div",{className:s.expandedText,style:{marginTop:12}},"Apollo card: ",l.a.createElement("span",{style:{color:"black"}},c)),l.a.createElement("div",{className:s.expandedText},"Amount:"," ",l.a.createElement("span",{style:{color:"black"}},i,n))))))},ya=a(279),va=a.n(ya),xa=a(169),Oa=a.n(xa),wa=a(280),ja=a.n(wa),Sa=a(281),Ca=a.n(Sa),Na=function(e){var t=e.account,a=e.cardNumber,n=e.currencyIcon,r=ea();return t?l.a.createElement("div",null,l.a.createElement("div",{className:r.transactions},l.a.createElement("div",{className:r.transactionsHeader}),l.a.createElement("div",{className:r.transactionCards},t.transactions.length>0&&t.transactions.map((function(e){var t;switch(e.transactionType){case"payment":t=l.a.createElement(va.a,null);break;case"deposit":t=l.a.createElement(Oa.a,null);break;case"withdrawal":t=l.a.createElement(ja.a,null);break;case"invoice":t=l.a.createElement(Ca.a,null)}return l.a.createElement(ba,{key:e.id,title:e.transactionType,time:new Date(Date.parse(e.date)).toLocaleDateString(),card:a,amount:e.amount,currencyIcon:n,transactionIcon:t})}))))):l.a.createElement(oa,null)},ka=je.d({amount:je.c().required().positive("Amount must be a positive number").integer()}),Aa=function(){var e,t,a=Object(r.useState)(""),n=Object(j.a)(a,2),c=n[0],o=n[1],i=Object(r.useState)(0),s=Object(j.a)(i,2),u=s[0],m=s[1],d=Object(r.useState)(!1),p=Object(j.a)(d,2),f=p[0],E=p[1],g=Object(r.useState)(!1),h=Object(j.a)(g,2),b=h[0],y=h[1],v=Object(r.useState)(!1),x=Object(j.a)(v,2),S=x[0],N=x[1],k=Object(r.useState)(!1),A=Object(j.a)(k,2),T=A[0],R=A[1],B=Object(r.useState)(""),F=Object(j.a)(B,2),I=F[0],L=F[1],M=Object(r.useState)(""),$=Object(j.a)(M,2),Y=$[0],q=$[1],H=Object(r.useState)(""),W=Object(j.a)(H,2),U=W[0],V=W[1],_=Object(r.useState)(""),G=Object(j.a)(_,2),Q=G[0],Z=G[1],X=Object(r.useState)(!1),K=Object(j.a)(X,2),J=K[0],ee=K[1],ae=Object(C.h)(),le=Object(C.g)(),oe=z.b(se,e),ie=Object(j.a)(oe,1)[0],me=function(e){return z.b(re,e)}(),pe=Object(j.a)(me,1)[0],fe=function(e){return z.b(de,e)}(),Ee=Object(j.a)(fe,1)[0],ge=function(e){return z.b(ue,e)}(),be=Object(j.a)(ge,1)[0],xe=he(),je=function(e){return z.c(te,e)}({variables:{currency:ae.state.currency}}),Se=ne(),Ce=ce(),ke=ve({variables:{currency:ae.state.currency}}).data,Ae=ea(),Be="",Pe="";switch(Object(r.useEffect)((function(){je.data?m(je.data.account.balance):m(ae.state.balance)}),[je,ae]),Object(r.useEffect)((function(){Ce.data&&Ce.data.cards.length>0&&(R(!0),L(Ce.data.cards[0].cardNumber))}),[Ce]),ae.state.currency){case"EUR":Be="\u20ac",Pe="Euro",t=l.a.createElement(ft,null);break;case"USD":Be="$",Pe="US Dollar",t=l.a.createElement(Bt,null);break;case"GBP":Be="\xa3",Pe="British Pound",t=l.a.createElement(Jt,null);break;case"BTC":Be="\u0e3f",Pe="Bitcoin",t=void 0}var Fe=function(){var e=Object(w.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ie({variables:{currency:ae.state.currency},refetchQueries:[{query:ye,variables:{currency:ae.state.currency}}]});case 3:(t=e.sent)&&t.data&&m(t.data.createTransaction),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=e.t0.message.split(":")[1],console.log(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return J?l.a.createElement("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},l.a.createElement(oa,null)):l.a.createElement("div",{className:Ae.root},l.a.createElement(na,{isOpen:f,onClose:function(){return E(!1)}},l.a.createElement(la,{title:"Add money",fontSize:18}),l.a.createElement("div",{style:{marginTop:12}},l.a.createElement(P.b,{initialValues:{amount:10},validationSchema:ka,onSubmit:function(){var e=Object(w.a)(O.a.mark((function e(t,a){var n,r,l,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.setSubmitting,r=a.resetForm,n(!0),e.prev=2,e.next=5,pe({variables:{amount:t.amount,currency:ae.state.currency}});case 5:(l=e.sent)&&l.data&&(n(!1),q(l.data.addMoney.message),r()),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(2),c=e.t0.message.split(":")[1],V(c),n(!1);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var t=e.isSubmitting;return l.a.createElement("div",null,l.a.createElement(P.a,null,l.a.createElement(Ne,{name:"amount",placeholder:"amount",type:"number"}),l.a.createElement("div",null,l.a.createElement(Oe.a,{theme:D},l.a.createElement(we.a,{className:Ae.dialogButton,disabled:t,variant:"contained",color:"secondary",type:"submit"},"Add money")))))})))),l.a.createElement(na,{isOpen:b,onClose:function(){return y(!1)}},l.a.createElement(la,{title:"Exchange",fontSize:18}),l.a.createElement("div",{style:{marginTop:12}},l.a.createElement(P.b,{initialValues:{amount:10},onSubmit:function(){var e=Object(w.a)(O.a.mark((function e(t,a){var n,r,l,o;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.setSubmitting,r=a.resetForm,n(!0),""===c){e.next=15;break}return e.prev=3,e.next=6,Ee({variables:{selectedAccountCurrency:ae.state.currency,toAccountCurrency:c,amount:t.amount}});case 6:(l=e.sent)&&l.data&&(n(!1),q(l.data.exchange.message),r()),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(3),o=e.t0.message.split(":")[1],V(o),n(!1);case 15:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var t=e.isSubmitting;return l.a.createElement("div",null,l.a.createElement(P.a,null,l.a.createElement(Ne,{name:"amount",placeholder:"amount",type:"number"}),l.a.createElement(Oe.a,{theme:D},l.a.createElement(Me.a,{style:{marginLeft:8},variant:"outlined"},l.a.createElement($e.a,{id:"select-filled-label"},"To"),l.a.createElement(Ye.a,{labelId:"select-filled-label",id:"select-filled",value:c,onChange:function(e){o(e.target.value)},label:"To"},Se.data&&Se.data.accounts.filter((function(e){return e.currency!==ae.state.currency})).map((function(e){return l.a.createElement(qe.a,{key:e.id,value:e.currency},e.currency)}))))),l.a.createElement("div",null,l.a.createElement(Oe.a,{theme:D},l.a.createElement(we.a,{className:Ae.dialogButton,disabled:t,variant:"contained",color:"secondary",type:"submit"},"Exchange")))))})))),function(){if(xe&&xe.data&&xe.data.me)return l.a.createElement(na,{isOpen:S,onClose:function(){return N(!1)}},"Beneficiary: ",xe.data.me.firstName," ",xe.data.me.lastName," ",l.a.createElement("br",null),"IBAN: ",ae.state.iban," ",l.a.createElement("br",null),"BIC: ",ae.state.bic,l.a.createElement("div",{style:{marginTop:12}},l.a.createElement(Oe.a,{theme:D},l.a.createElement(we.a,{className:Ae.dialogButton,variant:"contained",color:"secondary",onClick:Object(w.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,be({variables:{currency:ae.state.currency}});case 3:(t=e.sent)&&t.data&&(ee(!0),setTimeout(Object(w.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:le.push("/dashboard"),le.go(0);case 2:case"end":return e.stop()}}),e)}))),3e3)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=e.t0.message.split(":")[1],Z(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))},"Delete account"))))}(),Y.length>0?l.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginBottom:12}},l.a.createElement(Te,{message:Y})):U.length>0?l.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginBottom:12}},l.a.createElement(Re,{message:U})):Q.length>0?l.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginBottom:12}},l.a.createElement(De,{message:Q})):void 0,l.a.createElement("div",{style:{position:"absolute",right:20}},l.a.createElement(Oe.a,{theme:D},l.a.createElement(we.a,{color:"secondary",variant:"contained",style:{fontWeight:"bold",letterSpacing:1,textTransform:"none"},onClick:function(){T?Fe():V("Can't make this transaction. Please register a card first."),u<0&&V("You do not have the sufficient funds. Please top up your account.")}},"Simulate"))),l.a.createElement("div",{className:Ae.accountBalance},Be,u),l.a.createElement("div",{className:Ae.accountInfo},l.a.createElement("div",null,Pe),l.a.createElement("div",{style:{width:32}},t),l.a.createElement("div",null,ae.state.currency)),l.a.createElement("div",{className:Ae.accountButtonsSection},l.a.createElement(Oe.a,{theme:D},l.a.createElement("div",null,l.a.createElement(He.a,{className:Ae.accountButton,"aria-label":"Add",onClick:function(e){e.preventDefault(),E(!0)}},l.a.createElement(Ue.a,null)),l.a.createElement("div",{className:Ae.accountButtonText},"Add money")),l.a.createElement("div",null,l.a.createElement(He.a,{className:Ae.accountButton,"aria-label":"Exchange",onClick:function(e){e.preventDefault(),y(!0)}},l.a.createElement(_e.a,null)),l.a.createElement("div",{className:Ae.accountButtonText},"Exchange")),l.a.createElement("div",null,l.a.createElement(He.a,{className:Ae.accountButton,"aria-label":"Details",onClick:function(e){e.preventDefault(),N(!0)}},l.a.createElement(Qe.a,null)),l.a.createElement("div",{className:Ae.accountButtonText},"Details")))),l.a.createElement("hr",{style:{width:480,marginTop:24,color:"#fcfcfc"}}),l.a.createElement(Na,{account:ke,cardNumber:T?I:void 0,currencyIcon:Be}))},Ta=Object(ta.a)({toolbar:{top:0,left:0,width:"100%",height:"56px",backgroundColor:n.PRIMARY},navigation:{display:"flex",height:"100%",alignItems:"center",padding:"0 1rem"},logo:{textTransform:"uppercase",letterSpacing:2,marginLeft:"1.5rem","& a":{color:n.WHITE,textDecoration:"none",fontSize:"1.5rem"}},toggleButton:{},navigationItems:{"& ul":{listStyle:"none",margin:0,padding:0,display:"flex",alignItems:"center"},"& li":{padding:"0 0.5rem"},"& a":{color:n.WHITE,letterSpacing:1,textDecoration:"none",fontWeight:"bold"},"& a:hover":{color:n.SECONDARY},"& a:active":{color:n.SECONDARY}},navButton:{fontSize:14,fontWeight:"bold",letterSpacing:1,marginLeft:"1rem",height:32,width:102,borderRadius:4,border:"none",backgroundColor:n.SECONDARY,color:n.WHITE,cursor:"pointer","&:hover":{backgroundColor:n.HOVER},"&:focus":{outline:0}},spacer:{flex:1},"@media (max-width: 768px)":{navigationItems:{display:"none"}},"@media (min-width: 769px)":{toggleButton:{display:"none"},logo:{marginLeft:0}}}),Da=Object(ta.a)({toggleButton:{display:"flex",flexDirection:"column",justifyContent:"space-around",height:"24px",width:"28px",background:"transparent",cursor:"pointer",padding:0,border:"none",boxSizing:"border-box","& :focus":{outline:"none"}},toggleButtonLine:{width:"30px",height:"2px",background:"white"}}),Ra=function(e){var t=Da();return l.a.createElement("button",{className:t.toggleButton,onClick:e.click},l.a.createElement("div",{className:t.toggleButtonLine}),l.a.createElement("div",{className:t.toggleButtonLine}),l.a.createElement("div",{className:t.toggleButtonLine}))},Ba=["Dashboard","Settings"],Pa=function(e){var t=Ee(),a=Object(j.a)(t,2),n=a[0],c=a[1].client,o=he(),i=o.data,s=o.loading,u=Object(r.useState)(!1),m=Object(j.a)(u,2),d=m[0],p=m[1],f=Object(C.g)(),E=Ta();Object(r.useEffect)((function(){!s&&i&&i.me?p(!0):p(!1)}),[i,s]);return l.a.createElement("header",{className:E.toolbar},l.a.createElement("nav",{className:E.navigation},l.a.createElement("div",{className:E.toggleButton},l.a.createElement(Ra,{click:e.drawerClickHandler})),l.a.createElement("div",{className:E.logo},l.a.createElement("a",{href:"/"},l.a.createElement("span",{role:"img","aria-label":"logo"},"\ud83d\ude80"))),l.a.createElement("div",{className:E.spacer}),l.a.createElement("div",{className:E.navigationItems},l.a.createElement("ul",null,d?l.a.createElement(l.a.Fragment,null,Ba.map((function(e){var t="/";switch(e){case"Dashboard":t="/dashboard";break;case"Settings":t="/settings"}return l.a.createElement("li",{key:e},l.a.createElement("a",{href:t},e))})),l.a.createElement("button",{className:E.navButton,onClick:function(){var e=Object(w.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,n().then((function(){return f.push("/")}));case 3:return h(""),e.next=6,c.resetStore();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},"Logout")):l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{className:E.navButton,onClick:function(e){e.preventDefault(),f.push("/login")}},"Login"),l.a.createElement("button",{className:E.navButton,onClick:function(e){e.preventDefault(),f.push("/register")}},"Sign Up"))))))},Fa=Object(ta.a)({siderDrawer:{height:"100%",background:n.WHITE,boxShadow:"1px 0 7px rgba(0,0,0,0.5)",position:"fixed",top:0,left:0,width:"70%",maxWidth:"280px",zIndex:200,transform:"translateX(-100%)",transition:"transform 0.3s ease-out","& ul":{height:"100%",listStyle:"none",display:"flex",flexDirection:"column",justifyContent:"center"},"& li":{margin:"0.5rem 0"},"& a":{color:n.PRIMARY,textDecoration:"none",fontSize:"1.2rem"},"& a:hover":{color:n.ORANGE},"& a:active":{color:n.ORANGE}},open:{transform:"translateX(0)"},"@media (min-width: 769px)":{siderDrawer:{display:"none"}}}),Ia=["Dashboard","Settings","Logout"],La=["Login","Sign Up"],za=function(e){var t=Ee(),a=Object(j.a)(t,2),n=a[0],c=a[1].client,o=he(),i=o.data,s=o.loading,u=Object(r.useState)(!1),m=Object(j.a)(u,2),d=m[0],p=m[1],f=Object(C.g)(),E=Fa();Object(r.useEffect)((function(){!s&&i&&i.me?p(!0):p(!1)}),[i,s]);var g=E.siderDrawer;e.show&&(g=E.siderDrawer+" "+E.open);return l.a.createElement("nav",{className:g},l.a.createElement("ul",null,d?l.a.createElement(l.a.Fragment,null,Ia.map((function(e){var t="/",a=!1;switch(e){case"Dashboard":t="/Dashboard";break;case"Settings":t="/settings";break;case"Logout":a=!0}return l.a.createElement("li",{key:e},l.a.createElement("a",{href:"/whatevs",onClick:function(){var e=Object(w.a)(O.a.mark((function e(r){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),!a){e.next=7;break}return e.next=4,n().then((function(){return f.push("/")}));case 4:return h(""),e.next=7,c.resetStore();case 7:f.push(t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},e))}))):l.a.createElement(l.a.Fragment,null,La.map((function(e){var t="/";switch(e){case"Login":t="/login";break;case"Sign Up":t="/register"}return l.a.createElement("li",{key:e},l.a.createElement("a",{href:"/whatevs",onClick:function(e){e.preventDefault(),f.push(t)}},e))})))))},Ma=Object(ta.a)({backdrop:{position:"fixed",width:"100%",height:"100%",top:0,left:0,background:"rgba(0,0,0,0.3)",zIndex:100}}),$a=function(e){var t=Ma();return l.a.createElement("div",{className:t.backdrop,onClick:e.click})},Ya=a(570),qa=a(533),Ha=a(580),Wa=a(581),Ua=a(208),Va=a.n(Ua),_a=a(285),Ga=a.n(_a),Qa=a(286),Za=a.n(Qa),Xa=a(287),Ka=a.n(Xa),Ja=je.d({oldPassword:je.f(),newPassword:je.b((function(e){return e?je.f().min(6,"Password must be at least 6 characters"):je.f()})),confirmPassword:je.f().oneOf([je.e("newPassword")],"Passwords do not match")}),en=function(){var e,t=he().data,a=ne(),c=z.b(xe,e),o=Object(j.a)(c,1)[0],i=function(e){return z.b(me,e)}(),s=Object(j.a)(i,1)[0],u=Ee(),m=Object(j.a)(u,2),d=m[0],p=m[1].client,f=Object(r.useState)(!1),E=Object(j.a)(f,2),g=E[0],b=E[1],y=Object(r.useState)(!1),v=Object(j.a)(y,2),x=v[0],S=v[1],N=Object(r.useState)(!1),k=Object(j.a)(N,2),A=k[0],T=k[1],R=Object(r.useState)(!1),B=Object(j.a)(R,2),F=B[0],I=B[1],L=Object(r.useState)(!1),M=Object(j.a)(L,2),$=M[0],Y=M[1],q=Object(r.useState)(""),H=Object(j.a)(q,2),W=H[0],U=H[1],V=Object(r.useState)(""),_=Object(j.a)(V,2),G=_[0],Q=_[1],Z=Object(r.useState)(""),X=Object(j.a)(Z,2),K=X[0],J=X[1],ee=Object(C.g)();Object(r.useEffect)((function(){t&&t.me&&J(new Date(Date.parse(t.me.dateOfBirth)).toLocaleDateString())}),[t]);return g?l.a.createElement("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},l.a.createElement(oa,null)):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,l.a.createElement(na,{isOpen:x,onClose:function(){return S(!1)}},l.a.createElement(la,{title:"Personal details",fontSize:18}),l.a.createElement("div",{style:{marginTop:12}},l.a.createElement("p",{style:{color:"lightgrey"}},"Full name & date of birth"),t&&t.me&&t.me.firstName+" "+t.me.lastName+", "+K,l.a.createElement("p",{style:{color:"lightgrey"}},"Residential address"),t&&t.me&&t.me.streetAddress," ",l.a.createElement("br",null),t&&t.me&&t.me.postCode+" "+t.me.city," ",l.a.createElement("br",null),t&&t.me&&t.me.country,l.a.createElement("p",{style:{color:"lightgrey"}},"Email"),t&&t.me&&t.me.email)),l.a.createElement(na,{isOpen:A,onClose:function(){return T(!1)}},l.a.createElement(la,{title:"Account details",fontSize:18}),l.a.createElement("div",{style:{marginTop:12}},l.a.createElement("p",{style:{color:"lightgrey"}},"Active accounts"),l.a.createElement(Ya.a,{component:"nav","aria-label":"active-accounts"},a.data&&a.data.accounts.map((function(e){var t,a="",n="";switch(e.currency){case"EUR":t=l.a.createElement(ft,null),a="Euro",n="\u20ac"+e.balance;break;case"USD":t=l.a.createElement(Bt,null),a="US Dollar",n="$"+e.balance;break;case"GBP":t=l.a.createElement(Jt,null),a="British Pound",n="\xa3"+e.balance}return l.a.createElement(qa.a,{key:e.id,button:!0,onClick:function(){return ee.push({pathname:"/accounts/".concat(e.id),state:e})}},l.a.createElement(Ha.a,null,l.a.createElement("div",{style:{width:32}},t)),l.a.createElement(Wa.a,{primary:a,secondary:e.currency}),n)}))))),l.a.createElement(na,{isOpen:F,onClose:function(){return I(!1)}},l.a.createElement(la,{title:"Change password",fontSize:18}),l.a.createElement("div",{style:{marginTop:12}},l.a.createElement(P.b,{initialValues:{oldPassword:"",newPassword:"",confirmPassword:""},validationSchema:Ja,onSubmit:function(){var e=Object(w.a)(O.a.mark((function e(t,a){var n,r,l,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.setSubmitting,r=a.resetForm,n(!0),e.prev=2,e.next=5,o({variables:{oldPassword:t.oldPassword,newPassword:t.newPassword}});case 5:(l=e.sent)&&l.data&&(n(!1),console.log(l.data),U("Password successfully changed!"),I(!1),r()),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(2),c=e.t0.message.split(":")[1],Q(c),n(!1);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var t=e.isSubmitting;return l.a.createElement("div",null,l.a.createElement(P.a,null,l.a.createElement(Ne,{name:"oldPassword",placeholder:"Old password",type:"password"}),l.a.createElement("div",{style:{marginTop:8}},l.a.createElement(Ne,{name:"newPassword",placeholder:"New password",type:"password"})),l.a.createElement("div",{style:{marginTop:8}},l.a.createElement(Ne,{name:"confirmPassword",placeholder:"Confirm new password",type:"password"})),l.a.createElement("div",{style:{marginTop:8}},l.a.createElement(Oe.a,{theme:D},l.a.createElement(we.a,{disabled:t,variant:"contained",color:"secondary",type:"submit"},"Change password")))))})))),l.a.createElement(na,{isOpen:$,onClose:function(){return Y(!1)}},l.a.createElement(la,{title:"About this website",fontSize:18}),l.a.createElement("div",{style:{marginTop:12}},"Libraries used:"),l.a.createElement("div",{style:{marginTop:12}},"Server side technologies",l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("a",{href:"https://www.apollographql.com/docs/apollo-server/",style:{textDecoration:"none",color:n.SECONDARY},target:"_blank",rel:"noopener noreferrer"},"Apollo Server")),l.a.createElement("li",null,l.a.createElement("a",{href:"https://www.npmjs.com/package/bcryptjs",style:{textDecoration:"none",color:n.SECONDARY},target:"_blank",rel:"noopener noreferrer"},"bcryptjs")," ","for password hashing"),l.a.createElement("li",null,l.a.createElement("a",{href:"https://www.npmjs.com/package/cors",style:{textDecoration:"none",color:n.SECONDARY},target:"_blank",rel:"noopener noreferrer"},"cors")," ","for cross origin resource sharing"),l.a.createElement("li",null,l.a.createElement("a",{href:"https://expressjs.com/",style:{textDecoration:"none",color:n.SECONDARY},target:"_blank",rel:"noopener noreferrer"},"Express")),l.a.createElement("li",null,l.a.createElement("a",{href:"https://graphql.org/",style:{textDecoration:"none",color:n.SECONDARY},target:"_blank",rel:"noopener noreferrer"},"GraphQL")),l.a.createElement("li",null,l.a.createElement("a",{href:"https://www.npmjs.com/package/jsonwebtoken",style:{textDecoration:"none",color:n.SECONDARY},target:"_blank",rel:"noopener noreferrer"},"jsonwebtoken")),l.a.createElement("li",null,l.a.createElement("a",{href:"https://typegraphql.com/",style:{textDecoration:"none",color:n.SECONDARY},target:"_blank",rel:"noopener noreferrer"},"TypeGraphQL")," ","for GraphQLI API TypeScript integration"),l.a.createElement("li",null,l.a.createElement("a",{href:"https://typeorm.io/#/",style:{textDecoration:"none",color:n.SECONDARY},target:"_blank",rel:"noopener noreferrer"},"TypeORM")," ","- Typescript ORM to use with databases (PostgreSQL in my case)"),l.a.createElement("li",null,l.a.createElement("a",{href:"https://www.typescriptlang.org/",style:{textDecoration:"none",color:n.SECONDARY},target:"_blank",rel:"noopener noreferrer"},"TypeScript"))),"Client side technologies",l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("a",{href:"https://www.apollographql.com/docs/react/api/react-hooks/",style:{textDecoration:"none",color:n.SECONDARY},target:"_blank",rel:"noopener noreferrer"},"Apollo React Hooks")),l.a.createElement("li",null,l.a.createElement("a",{href:"https://fontawesome.com/how-to-use/on-the-web/using-with/react",style:{textDecoration:"none",color:n.SECONDARY},target:"_blank",rel:"noopener noreferrer"},"FontAwesome Icons")),l.a.createElement("li",null,l.a.createElement("a",{href:"https://material-ui.com/",style:{textDecoration:"none",color:n.SECONDARY},target:"_blank",rel:"noopener noreferrer"},"Material UI")),l.a.createElement("li",null,l.a.createElement("a",{href:"https://recharts.org/en-US/",style:{textDecoration:"none",color:n.SECONDARY},target:"_blank",rel:"noopener noreferrer"},"Recharts")," ","- For data visualization"),l.a.createElement("li",null,l.a.createElement("a",{href:"https://jaredpalmer.com/formik/",style:{textDecoration:"none",color:n.SECONDARY},target:"_blank",rel:"noopener noreferrer"},"Formik")," ","- For building Forms"),l.a.createElement("li",null,l.a.createElement("a",{href:"https://github.com/jquense/yup",style:{textDecoration:"none",color:n.SECONDARY},target:"_blank",rel:"noopener noreferrer"},"Yup")," ","- For client sid form validation")))),W.length>0?l.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginBottom:12}},l.a.createElement(Te,{message:W})):G.length>0?l.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginBottom:12}},l.a.createElement(Re,{message:G})):void 0,l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement(Va.a,{fontSize:"large"}),l.a.createElement(la,{title:t&&t.me?t.me.firstName+" "+t.me.lastName:"",fontSize:18})),l.a.createElement("hr",{style:{width:"424px"}}),l.a.createElement("div",{style:{width:"424px",margin:"0 auto"}},l.a.createElement(la,{title:"Profile",fontSize:14}),l.a.createElement(Ya.a,{component:"nav","aria-label":"profile"},l.a.createElement(qa.a,{button:!0,onClick:function(){return S(!0)}},l.a.createElement(Ha.a,{style:{color:n.PRIMARY}},l.a.createElement(Va.a,null)),l.a.createElement(Wa.a,{primary:"Personal details"})),l.a.createElement(qa.a,{button:!0,onClick:function(){return T(!0)}},l.a.createElement(Ha.a,{style:{color:n.PRIMARY}},l.a.createElement(Oa.a,null)),l.a.createElement(Wa.a,{primary:"Account details"})))),l.a.createElement("hr",{style:{width:"424px"}}),l.a.createElement("div",{style:{width:"424px",margin:"0 auto"}},l.a.createElement(la,{title:"Security",fontSize:14}),l.a.createElement(Ya.a,{component:"nav","aria-label":"profile"},l.a.createElement(qa.a,{button:!0,onClick:function(){return I(!0)}},l.a.createElement(Ha.a,{style:{color:n.PRIMARY}},l.a.createElement(Ga.a,null)),l.a.createElement(Wa.a,{primary:"Change password"})))),l.a.createElement("hr",{style:{width:"424px"}}),l.a.createElement("div",{style:{width:"424px",margin:"0 auto"}},l.a.createElement(la,{title:"About us",fontSize:14}),l.a.createElement(Ya.a,{component:"nav","aria-label":"profile"},l.a.createElement(qa.a,{button:!0,onClick:function(){return Y(!0)}},l.a.createElement(Ha.a,{style:{color:n.PRIMARY}},l.a.createElement(Za.a,null)),l.a.createElement(Wa.a,{primary:"About this website"})))),l.a.createElement("hr",{style:{width:"424px"}}),l.a.createElement("div",{style:{width:"424px",margin:"0 auto"}},l.a.createElement(Ya.a,{component:"nav","aria-label":"profile"},l.a.createElement(qa.a,{button:!0,onClick:Object(w.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s();case 3:(t=e.sent)&&t.data&&(b(!0),setTimeout(Object(w.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d().then((function(){return ee.push("/bye")}));case 2:h(""),p.resetStore();case 4:case"end":return e.stop()}}),e)}))),3e3)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=e.t0.message.split(":")[1],console.log(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))},l.a.createElement(Ha.a,{style:{color:n.PRIMARY}},l.a.createElement(Ka.a,null)),l.a.createElement(Wa.a,{primary:"Destroy account"}))))))},tn=a(583),an=a(532),nn=a(584),rn=a(64),ln=Object(ta.a)({root:{width:"100%",height:"320px"},spending:{display:"flex",justifyContent:"center"}}),cn=function(e){var t=ve({variables:{currency:e.currency}}).data,a=ln();return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:a.root},l.a.createElement("div",{className:a.spending},"Spending (this month)"),l.a.createElement(rn.e,{width:"100%"},l.a.createElement(rn.b,{data:t?t.transactions.map((function(e){return{date:new Date(Date.parse(e.date)).toLocaleDateString(),type:e.transactionType,amount:e.amount}})):[],margin:{top:24,right:30,left:20,bottom:5}},l.a.createElement(rn.c,{strokeDasharray:"3 3"}),l.a.createElement(rn.g,{dataKey:"date"}),l.a.createElement(rn.h,null),l.a.createElement(rn.f,null),l.a.createElement(rn.d,null),l.a.createElement(rn.a,{type:"monotone",dataKey:"amount",stroke:"#29AABB",fill:"#29AABB"}),l.a.createElement(rn.a,{type:"monotone",dataKey:"type",stroke:"#F15742"})))))},on=a(582),sn=a(297),un=a.n(sn),mn=Object(ta.a)({root:{display:"flex",justifyContent:"space-between",alignItems:"center"},svg:{width:32}}),dn=Object(ta.a)({root:{display:"flex",marginTop:"62px",justifyContent:"center"}}),pn=function(e){var t=e.svg,a=e.currencyIcon,r=e.fullCurrencyText,c=e.balance,o=e.iban,i=e.onAccountClicked,s=mn();return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:s.root},l.a.createElement("div",{className:s.svg},t),l.a.createElement(la,{title:r,fontSize:18}),l.a.createElement("div",null,l.a.createElement(He.a,{style:{color:n.PRIMARY},onClick:i},l.a.createElement(un.a,{fontSize:"small"})))),l.a.createElement(ra.a,{style:{margin:"0 auto",marginTop:"24px"},component:"p",variant:"h4"},a,c),l.a.createElement(on.a,{style:{marginTop:24},light:!0}),l.a.createElement(ra.a,{style:{marginTop:"14px",letterSpacing:1,color:"rgba(0, 0, 0, 0.3)"},component:"p"},o||"XXXX APL0 0099 YYYY ZZZZ 78"))},fn=function(e){var t=e.onCreateNewAccountClicked,a=dn();return l.a.createElement("div",{className:a.root},l.a.createElement(Oe.a,{theme:D},l.a.createElement(we.a,{style:{fontWeight:"bold",textTransform:"none",letterSpacing:1},color:"primary",variant:"contained",startIcon:l.a.createElement(Ue.a,null),onClick:t},"Create new account")))};function En(){return(En=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function gn(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}!function(e){e.EURO="EUR",e.POUND="GBP",e.DOLLAR="USD",e.BITCOIN="BTC"}(It||(It={}));var hn=l.a.createElement("defs",null,l.a.createElement("style",null,".a{opacity:0;}.b{fill:#fff;}.c{fill:#ff5f00;}.d{fill:#eb001b;}.e{fill:#f79e1b;}")),bn=l.a.createElement("title",null,"Asset 1"),yn=l.a.createElement("g",{className:"a"},l.a.createElement("rect",{className:"b",width:131.39,height:86.9})),vn=l.a.createElement("rect",{className:"c",x:48.37,y:15.14,width:34.66,height:56.61}),xn=l.a.createElement("path",{className:"d",d:"M51.94,43.45a35.94,35.94,0,0,1,13.75-28.3,36,36,0,1,0,0,56.61A35.94,35.94,0,0,1,51.94,43.45Z"}),On=l.a.createElement("path",{className:"e",d:"M120.5,65.76V64.6H121v-.24h-1.19v.24h.47v1.16Zm2.31,0v-1.4h-.36l-.42,1-.42-1h-.36v1.4h.26V64.7l.39.91h.27l.39-.91v1.06Z"}),wn=l.a.createElement("path",{className:"e",d:"M123.94,43.45a36,36,0,0,1-58.25,28.3,36,36,0,0,0,0-56.61,36,36,0,0,1,58.25,28.3Z"}),jn=function(e){var t=e.svgRef,a=e.title,n=gn(e,["svgRef","title"]);return l.a.createElement("svg",En({viewBox:"0 0 131.39 86.9",ref:t},n),hn,void 0===a?bn:a?l.a.createElement("title",null,a):null,yn,vn,xn,On,wn)},Sn=l.a.forwardRef((function(e,t){return l.a.createElement(jn,En({svgRef:t},e))})),Cn=(a.p,Object(ta.a)({cardTop:{display:"flex",justifyContent:"space-between",alignItems:"center"},cardTypeIcon:{width:64},cardNumber:{fontSize:18,letterSpacing:10,textAlign:"center",marginTop:32,marginBottom:24},cardValidThruLabel:{textTransform:"uppercase",letterSpacing:.5,fontSize:12,opacity:.9},cardCvvLabel:{textTransform:"uppercase",letterSpacing:.5,marginLeft:12,fontSize:12,opacity:.9}})),Nn=function(e){var t=e.cardNumber,a=e.validThru,n=e.cvv,r=Cn();return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:r.cardTop},l.a.createElement("div",null,l.a.createElement("span",{role:"img","aria-label":"logo"},"\ud83d\ude80")),l.a.createElement("div",{className:r.cardTypeIcon},l.a.createElement(Sn,null))),l.a.createElement("div",{className:r.cardNumber},t),l.a.createElement("div",{style:{display:"flex"}},l.a.createElement("div",null,l.a.createElement("div",{className:r.cardValidThruLabel},"valid thru"),l.a.createElement("div",null,a)),l.a.createElement("div",null,l.a.createElement("div",{className:r.cardCvvLabel},"cvv"),l.a.createElement("div",{style:{marginLeft:12}},n))))},kn=function(e){var t=e.onCreateNewCardClicked;return l.a.createElement("div",{style:{display:"flex",marginTop:"62px",justifyContent:"center"}},l.a.createElement(Oe.a,{theme:D},l.a.createElement(we.a,{style:{fontWeight:"bold",textTransform:"none",letterSpacing:1},color:"primary",variant:"contained",startIcon:l.a.createElement(Ue.a,null),onClick:t},"Create new card")))},An=Object(Be.a)((function(e){return{root:{display:"flex"},content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(1),paddingBottom:e.spacing(4)},paper:{fontWeight:"bold",padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",borderRadius:8},fixedHeight:{height:240},accountCardHeight:{height:172},chart:{height:"100%"},apolloCard:{backgroundColor:n.ORANGE,color:n.WHITE}}})),Tn=["EUR","USD","GBP"],Dn=function(){var e,t=z.b(oe,e),a=Object(j.a)(t,1)[0],n=function(e){return z.b(ie,e)}(),c=Object(j.a)(n,1)[0],o=ne(),i=o.data,s=o.loading,u=ce(),m=Object(r.useState)([""]),d=Object(j.a)(m,2),p=d[0],f=d[1],E=Object(r.useState)(""),g=Object(j.a)(E,2),h=g[0],b=g[1],y=Object(r.useState)(0),v=Object(j.a)(y,2),x=v[0],S=v[1],N=Object(r.useState)(!1),k=Object(j.a)(N,2),A=k[0],T=k[1],R=Object(C.g)(),B=An(),P=B.paper+" "+B.accountCardHeight,F=B.paper+" "+B.accountCardHeight+" "+B.apolloCard,I=B.paper+" "+B.chart;if(Object(r.useEffect)((function(){var e=[],t=0;i&&i.accounts.forEach((function(a){"EUR"===a.currency&&(t+=Math.round(a.balance/1.13)),"USD"===a.currency&&(t+=Math.round(a.balance/1.25)),"GBP"===a.currency&&(t+=Math.round(1*a.balance)),e.push(a.currency)})),S(t),f(e)}),[s,i]),Object(r.useEffect)((function(){p.length>0&&b(p[0])}),[p]),!i)return l.a.createElement("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},l.a.createElement(oa,null));var L=function(){var e=Object(w.a)(O.a.mark((function e(t){var a,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,c({variables:{},refetchQueries:[{query:le,variables:{}}]});case 4:(a=e.sent)&&a.data&&console.log("Card successfully created!"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),n=e.t0.message.split(":")[1],console.log(n);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement("div",{className:B.root},l.a.createElement(na,{isOpen:A,onClose:function(){return T(!1)}},l.a.createElement(Ya.a,null,Tn.map((function(e){return l.a.createElement(qa.a,{button:!0,key:e,onClick:Object(w.a)(O.a.mark((function t(){var n,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a({variables:{currency:e},refetchQueries:[{query:ae,variables:{}},{query:le,variables:{}}]});case 3:(n=t.sent)&&n.data&&(b(e),T(!1)),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),r=t.t0.message.split(":")[1],console.log(r);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))},l.a.createElement(Ha.a,null,l.a.createElement("div",{style:{width:32}},function(e){switch(e){case"EUR":return l.a.createElement(ft,null);case"USD":return l.a.createElement(Bt,null);case"GBP":return l.a.createElement(Jt,null)}}(e))),l.a.createElement(Wa.a,{primary:e}))})))),l.a.createElement("main",{className:B.content},l.a.createElement(nn.a,{maxWidth:"lg",className:B.container},l.a.createElement("div",{style:{marginBottom:12,display:"flex",justifyContent:"space-between"}},l.a.createElement("div",null,l.a.createElement(la,{title:"Analytics",fontSize:24}))),i&&i.accounts.length>0?l.a.createElement(l.a.Fragment,null,l.a.createElement(Oe.a,{theme:D},l.a.createElement(Me.a,null,l.a.createElement($e.a,{id:"select-filled-label"},"Account"),l.a.createElement(Ye.a,{labelId:"select-filled-label",id:"select-filled",value:h,onChange:function(e){return b(e.target.value)},label:"Account"},p.map((function(e){return l.a.createElement(qe.a,{key:e,value:e},e)})))))):void 0,l.a.createElement(tn.a,{container:!0,spacing:3},l.a.createElement(tn.a,{item:!0,xs:12,md:12,lg:12},l.a.createElement(an.a,{className:I},l.a.createElement(cn,{currency:h||"EUR"}))))),l.a.createElement(nn.a,{maxWidth:"lg",className:B.container},l.a.createElement("div",{style:{marginBottom:12,marginTop:12,display:"flex",justifyContent:"space-between"}},l.a.createElement("div",null,l.a.createElement(la,{title:"Accounts",fontSize:24})),l.a.createElement("div",{style:{fontSize:18,fontWeight:"bold",color:"rgba(0, 0, 0, 0.3)"}},"Total balance: \xa3",x)),l.a.createElement(tn.a,{container:!0,spacing:3},i.accounts.length>0&&i.accounts.map((function(e){var t,a="",n="";switch(e.currency){case It.EURO:t=l.a.createElement(ft,null),a="\u20ac",n="Euro";break;case It.DOLLAR:t=l.a.createElement(Bt,null),a="$",n="US Dollar";break;case It.POUND:t=l.a.createElement(Jt,null),a="\xa3",n="British Pound"}return l.a.createElement(tn.a,{key:e.id,item:!0,xs:12,md:4,lg:4},l.a.createElement(an.a,{className:P},l.a.createElement(pn,{svg:t,currencyIcon:a,fullCurrencyText:n,balance:e.balance,iban:e.iban,onAccountClicked:function(t){return function(e,t){e.preventDefault(),R.push({pathname:"/accounts/".concat(t.id),state:t})}(t,e)}})))})),i.accounts.length<=2&&l.a.createElement(l.a.Fragment,null,l.a.createElement(tn.a,{item:!0,xs:12,md:4,lg:4},l.a.createElement(an.a,{className:P},l.a.createElement(fn,{onCreateNewAccountClicked:function(e){e.preventDefault(),T(!0)}})))))),l.a.createElement(nn.a,{maxWidth:"lg",className:B.container},l.a.createElement("div",{style:{marginBottom:12}},l.a.createElement(la,{title:"Cards",fontSize:24})),l.a.createElement(tn.a,{container:!0,spacing:3},u.data&&u.data.cards&&u.data.cards.length>0&&u.data.cards.map((function(e){return l.a.createElement(tn.a,{key:e.id,item:!0,xs:12,md:4,lg:4},l.a.createElement(an.a,{className:F},l.a.createElement(Nn,{cardNumber:e.cardNumber,validThru:new Date(Date.parse(e.expiresIn)).getMonth()+"/"+new Date(Date.parse(e.expiresIn)).getFullYear().toString().substr(-2),cvv:e.cvv})))})),u.data&&u.data.cards.length<=2&&l.a.createElement(l.a.Fragment,null,l.a.createElement(tn.a,{item:!0,xs:12,md:4,lg:4},l.a.createElement(an.a,{className:P},l.a.createElement(kn,{onCreateNewCardClicked:function(e){L(e)}}))))))))},Rn=function(e){var t=e.component,a=Object(S.a)(e,["component"]);return l.a.createElement(C.b,Object.assign({},a,{render:function(e){return g()?l.a.createElement(t,e):l.a.createElement(C.a,{to:{pathname:"/login"}})}}))},Bn=function(e){var t=e.component,a=Object(S.a)(e,["component"]);return l.a.createElement(C.b,Object.assign({},a,{render:function(e){return g()?l.a.createElement(C.a,{to:{pathname:"/dashboard"}}):l.a.createElement(t,e)}}))},Pn=function(){var e,t=Object(r.useState)(!1),a=Object(j.a)(t,2),c=a[0],o=a[1];return c&&(e=l.a.createElement($a,{click:function(){o(!1)}})),l.a.createElement(l.a.Fragment,null,l.a.createElement(k.Helmet,null,l.a.createElement("style",null,"body { background-color: ".concat(n.WHITE,"; }"))),l.a.createElement(N.a,null,l.a.createElement("div",{style:{height:"100%"}},l.a.createElement(Pa,{drawerClickHandler:function(){o(!0)}}),l.a.createElement(za,{show:c}),e,l.a.createElement("main",{style:{marginTop:24}},l.a.createElement(C.d,null,l.a.createElement(C.b,{exact:!0,path:"/",component:R}),l.a.createElement(Bn,{exact:!0,path:"/register",component:Fe}),l.a.createElement(Bn,{exact:!0,path:"/login",component:ze}),l.a.createElement(Rn,{exact:!0,path:"/dashboard",component:Dn}),l.a.createElement(Rn,{exact:!0,path:"/accounts/:id",component:Aa}),l.a.createElement(Rn,{exact:!0,path:"/settings",component:en}),l.a.createElement(C.b,{exact:!0,path:"/bye",component:B}),l.a.createElement(C.b,{path:"/",render:function(){return l.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:12}},"404 Not Found")}}))))))},Fn=new s.a({}),In=new d.a((function(e,t){return new p.a((function(a){var n;return Promise.resolve(e).then((function(e){var t=g();e.setContext({headers:{authorization:t?"Bearer ".concat(t):""}})})).then((function(){n=t(e).subscribe({next:a.next.bind(a),error:a.error.bind(a),complete:a.complete.bind(a)})})).catch(a.error.bind(a)),function(){n&&n.unsubscribe()}}))})),Ln=new i.a({link:d.a.from([new b.a({accessTokenField:"accessToken",isTokenValidOrUndefined:function(){var e=g();if(!e)return!0;try{var t=v()(e).exp;return!(Date.now()>=1e3*t)}catch(a){return!1}},fetchAccessToken:function(){return fetch("https://apollo-bank.herokuapp.com/refresh_token",{method:"POST",credentials:"include"})},handleFetch:function(e){h(e)},handleError:function(e){console.warn("Your refresh token is invalid. Try to relogin"),console.error(e)}}),Object(m.a)((function(e){var t=e.graphQLErrors,a=e.networkError;console.log(t),console.log(a)})),In,new u.a({uri:"https://apollo-bank.herokuapp.com/graphql",credentials:"include"})]),cache:Fn});o.a.render(l.a.createElement(f.a,{client:Ln},l.a.createElement((function(){var e=Object(r.useState)(!0),t=Object(j.a)(e,2),a=t[0],c=t[1];return Object(r.useEffect)((function(){fetch("https://apollo-bank.herokuapp.com/refresh_token",{method:"POST",credentials:"include"}).then(function(){var e=Object(w.a)(O.a.mark((function e(t){var a,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:a=e.sent,n=a.accessToken,h(n),c(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),a?l.a.createElement(l.a.Fragment,null,l.a.createElement(A.a,null,l.a.createElement("style",null,"body { background-color: ".concat(n.WHITE,"; }"))),l.a.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},l.a.createElement(oa,null))):l.a.createElement(l.a.Fragment,null,l.a.createElement(A.a,null,l.a.createElement("style",null,"body { background-color: ".concat(n.WHITE,"; }"))),l.a.createElement(Pn,null))}),null)),document.getElementById("root"))}},[[336,1,2]]]);
//# sourceMappingURL=main.161267fe.chunk.js.map